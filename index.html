<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Loja - Vitrine</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="animations.css">
    <link rel="stylesheet" href="header-responsive.css">
    <link rel="stylesheet" href="cart-modal.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      <script type="module" src="firebase-config.js"></script>
  <script type="module" src="auth-manager.js"></script>
  <script type="module" src="script.js"></script>
    <script type="module" src="auth-manager.js"></script>
    <script type="module" src="product-manager.js"></script>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo-section">
        <h1 onclick="showSection('inicio')">Minha Loja</h1>
      </div>
      
      <nav class="nav-bar">
        <a href="#inicio" onclick="showSection('inicio'); setActiveLink(this)" class="nav-link active">
          <i class="fas fa-home"></i> Home
        </a>
        <a href="#produtos" onclick="showSection('produtos'); setActiveLink(this)" class="nav-link">
          <i class="fas fa-shopping-bag"></i> Produtos
        </a>
        <a href="#sobre" onclick="showSection('sobre'); setActiveLink(this)" class="nav-link">
          <i class="fas fa-info-circle"></i> Sobre
        </a>
        <a href="#contato" onclick="showSection('contato'); setActiveLink(this)" class="nav-link">
          <i class="fas fa-envelope"></i> Contato
        </a>
      </nav>
      
      <div class="user-section">
        <div class="cart-info" onclick="showCartModal()">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cart-count">0</span>
        </div>
        
        <div class="user-info">
          <i class="fas fa-user"></i>
          <span id="user-name">Visitante</span>
        </div>
        
        <a href="login.html" class="btn-login" id="login-btn">
          <i class="fas fa-sign-in-alt"></i> Login
        </a>
      </div>
    </div>
  </header>

  <main>
    <!-- Se√ß√£o In√≠cio -->
    <section id="inicio" class="section active">
      <!-- Banner Principal -->
      <div class="hero-banner">
        <div class="banner-content">
          <h2>Bem-vindo √† Nossa Loja!</h2>
          <p>Descubra produtos incr√≠veis com os melhores pre√ßos</p>
          <button onclick="showSection('produtos')" class="btn-primary">Ver Produtos</button>
        </div>
        <div class="banner-image">
          <img src="https://via.placeholder.com/600x300/4CAF50/ffffff?text=Ofertas+Especiais" alt="Banner principal">
        </div>
      </div>

      <!-- Produtos em Destaque -->
      <div class="featured-section">
        <h2>‚ú® Produtos em Destaque</h2>
        <div class="featured-products" id="featured-products">
          <!-- Produtos em destaque ser√£o carregados aqui -->
        </div>
      </div>

      <!-- Categorias em Destaque -->
      <div class="categories-preview">
        <h2>üè∑Ô∏è Nossas Categorias</h2>
        <div class="categories-grid" id="home-categories">
          <!-- Categorias ser√£o carregadas aqui -->
        </div>
      </div>

      <!-- Ofertas Especiais -->
      <div class="offers-section">
        <h2>üî• Ofertas Especiais</h2>
        <div class="offers-banner">
          <div class="offer-card">
            <h3>Frete Gr√°tis</h3>
            <p>Em compras acima de R$ 99,00</p>
          </div>
          <div class="offer-card">
            <h3>Primeira Compra</h3>
            <p>10% de desconto para novos clientes</p>
          </div>
          <div class="offer-card">
            <h3>Entrega R√°pida</h3>
            <p>Receba em at√© 2 dias √∫teis</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Se√ß√£o Produtos -->
    <section id="produtos" class="section">
      <div class="section-header">
        <h2>üõçÔ∏è Todos os Produtos</h2>
        <div class="filters">
          <select id="category-filter">
            <option value="">Todas as Categorias</option>
            <option value="roupas">Roupas</option>
            <option value="calcados">Cal√ßados</option>
            <option value="acessorios">Acess√≥rios</option>
            <option value="eletronicos">Eletr√¥nicos</option>
          </select>
          <select id="price-filter">
            <option value="">Qualquer Pre√ßo</option>
            <option value="0-50">At√© R$ 50</option>
            <option value="50-100">R$ 50 - R$ 100</option>
            <option value="100-200">R$ 100 - R$ 200</option>
            <option value="200+">Acima de R$ 200</option>
          </select>
          <button onclick="applyFilters()" class="btn-secondary">Filtrar</button>
        </div>
      </div>
      
      <div class="products-grid" id="all-products">
        <!-- Todos os produtos ser√£o carregados aqui -->
      </div>
    </section>

    <!-- Se√ß√£o Categorias -->
    <section id="categorias" class="section">
      <h2>üìÇ Nossas Categorias</h2>
      <div class="categories-detailed" id="detailed-categories">
        <!-- Categorias detalhadas ser√£o carregadas aqui -->
      </div>
    </section>

    <!-- Se√ß√£o Sobre -->
    <section id="sobre" class="section">
      <div class="about-content">
        <h2>Sobre a Minha Loja</h2>
        <div class="about-grid">
          <div class="about-text">
            <h3>Nossa Hist√≥ria</h3>
            <p>A Minha Loja nasceu com o objetivo de oferecer produtos de qualidade com os melhores pre√ßos do mercado. Nossa miss√£o √© proporcionar uma experi√™ncia de compra √∫nica e satisfat√≥ria para nossos clientes.</p>
            
            <h3>Nossos Valores</h3>
            <ul>
              <li>‚úÖ Qualidade garantida em todos os produtos</li>
              <li>‚úÖ Atendimento personalizado e humanizado</li>
              <li>‚úÖ Entrega r√°pida e segura</li>
              <li>‚úÖ Pre√ßos justos e competitivos</li>
              <li>‚úÖ Satisfa√ß√£o total do cliente</li>
            </ul>
          </div>
          <div class="about-stats">
            <div class="stat-item">
              <h3 id="total-products-public">0</h3>
              <p>Produtos Dispon√≠veis</p>
            </div>
            <div class="stat-item">
              <h3 id="total-customers">0</h3>
              <p>Clientes Satisfeitos</p>
            </div>
            <div class="stat-item">
              <h3>5‚≠ê</h3>
              <p>Avalia√ß√£o M√©dia</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Se√ß√£o Contato -->
    <section id="contato" class="section">
      <div class="contact-content">
        <h2>üí¨ Entre em Contato</h2>
        <div class="contact-grid">
          <div class="contact-info">
            <h3>Informa√ß√µes de Contato</h3>
            <div class="contact-item">
              <strong>üìç Endere√ßo:</strong>
              <p>Rua das Flores, 123 - Centro<br>S√£o Paulo - SP, 01234-567</p>
            </div>
            <div class="contact-item">
              <strong>üìû Telefone:</strong>
              <p>(11) 9999-8888</p>
            </div>
            <div class="contact-item">
              <strong>üìß Email:</strong>
              <p>contato@minhaloja.com</p>
            </div>
            <div class="contact-item">
              <strong>üïí Hor√°rio de Funcionamento:</strong>
              <p>Segunda a Sexta: 9h √†s 18h<br>S√°bado: 9h √†s 14h</p>
            </div>
          </div>
          
          <div class="contact-form">
            <h3>Envie uma Mensagem</h3>
            <form id="contact-form">
              <div class="form-group">
                <input type="text" placeholder="Seu Nome" required>
              </div>
              <div class="form-group">
                <input type="email" placeholder="Seu Email" required>
              </div>
              <div class="form-group">
                <input type="text" placeholder="Assunto" required>
              </div>
              <div class="form-group">
                <textarea placeholder="Sua Mensagem" rows="5" required></textarea>
              </div>
              <button type="submit" class="btn-primary">Enviar Mensagem</button>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal do Produto -->
  <div id="product-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeProductModal()">&times;</span>
      <div id="product-details">
        <!-- Detalhes do produto ser√£o carregados aqui -->
      </div>
    </div>
  </div>

  <!-- Modal do Carrinho -->
  <div id="cart-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeCartModal()">&times;</span>
      <h2>üõí Seu Carrinho</h2>
      <div id="cart-items-modal">
        <!-- Itens do carrinho ser√£o carregados aqui -->
      </div>
      <div class="cart-footer">
        <div class="cart-total">
          <strong>Total: R$ <span id="cart-total-modal">0.00</span></strong>
        </div>
        <div class="cart-actions">
          <button onclick="goToLogin()" class="btn-primary">Finalizar Compra</button>
          <button onclick="clearCart()" class="btn-secondary">Limpar Carrinho</button>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Minha Loja</h3>
        <p>Sua loja online de confian√ßa com produtos de qualidade e os melhores pre√ßos.</p>
      </div>
      
      <div class="footer-section">
        <h3>Links √öteis</h3>
        <ul>
          <li><a href="#produtos" onclick="showSection('produtos')">Produtos</a></li>
          <li><a href="#sobre" onclick="showSection('sobre')">Sobre</a></li>
          <li><a href="#contato" onclick="showSection('contato')">Contato</a></li>
          <li><a href="login.html">√Årea do Cliente</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Atendimento</h3>
        <p>üìû (11) 9999-8888</p>
        <p>üìß contato@minhaloja.com</p>
        <p>üïí Seg-Sex: 9h-18h</p>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; <span id="ano"></span> Minha Loja. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script type="module">
    import authManager from './auth-manager.js';
    import productManager from './product-manager.js';
    
    // Inicializa√ß√£o da p√°gina
    document.addEventListener('DOMContentLoaded', function() {
      // Inicializar gerenciador de autentica√ß√£o
      if (window.authManager) {
        authManager.updateUI();
      }
      
      // Inicializar contadores do carrinho
      if (window.productManager) {
        productManager.updateCartUI();
      }
      
      // Definir ano no footer
      const anoElement = document.getElementById('ano');
      if (anoElement) {
        anoElement.textContent = new Date().getFullYear();
      }
      
      // Mostrar se√ß√£o inicial
      showSection('inicio');
      
      // Configurar eventos dos bot√µes
      setupButtonEvents();
      
      // Configurar evento de busca (se existir)
      setupSearchEvents();
      
      // Configurar eventos do carrinho
      setupCartEvents();
      
      // Configurar eventos de navega√ß√£o
      setupNavigationEvents();
    });
    
    // Fun√ß√£o para configurar eventos dos bot√µes
    function setupButtonEvents() {
      // Bot√£o Ver Produtos no banner
      const verProdutosBtn = document.querySelector('.btn-primary');
      if (verProdutosBtn) {
        verProdutosBtn.addEventListener('click', function() {
          showSection('produtos');
          setActiveNavLink('produtos');
        });
      }
      
      // Bot√µes de categoria (se existirem)
      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const category = this.dataset.category;
          filterProductsByCategory(category);
        });
      });
      
      // Bot√µes de produto (se existirem)
      document.querySelectorAll('.product-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const productId = this.dataset.productId;
          addToCart(productId);
        });
      });
      
      // Bot√£o de formul√°rio de contato
      const contactForm = document.getElementById('contact-form');
      if (contactForm) {
        contactForm.addEventListener('submit', handleContactForm);
      }
    }
    
    // Fun√ß√£o para configurar eventos de navega√ß√£o
    function setupNavigationEvents() {
      // Links de navega√ß√£o
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const href = this.getAttribute('href');
          if (href && href.startsWith('#')) {
            const section = href.substring(1);
            showSection(section);
            setActiveNavLink(section);
          }
        });
      });
      
      // Logo click√°vel
      const logo = document.querySelector('.logo-section h1');
      if (logo) {
        logo.addEventListener('click', function() {
          showSection('inicio');
          setActiveNavLink('inicio');
        });
      }
    }
    
    // Fun√ß√£o para configurar eventos do carrinho
    function setupCartEvents() {
      // Bot√£o do carrinho
      const cartInfo = document.querySelector('.cart-info');
      if (cartInfo) {
        cartInfo.addEventListener('click', function() {
          showCartModal();
        });
      }
      
      // Bot√£o de login
      const loginBtn = document.querySelector('.btn-login');
      if (loginBtn) {
        loginBtn.addEventListener('click', function(e) {
          e.preventDefault();
          if (window.authManager && authManager.isAuthenticated) {
            // Se j√° est√° logado, fazer logout
            authManager.logout();
          } else {
            // Ir para p√°gina de login
            window.location.href = 'login.html';
          }
        });
      }
    }
    
    // Fun√ß√£o para mostrar se√ß√µes
    function showSection(sectionName) {
      // Ocultar todas as se√ß√µes
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Mostrar se√ß√£o selecionada
      const targetSection = document.getElementById(sectionName);
      if (targetSection) {
        targetSection.classList.add('active');
        targetSection.style.display = 'block';
      }
      
      // Scroll suave para o topo
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
      
      // A√ß√µes espec√≠ficas por se√ß√£o
      switch(sectionName) {
        case 'produtos':
          loadProductsSection();
          break;
        case 'inicio':
          loadHomeSection();
          break;
        case 'sobre':
          loadAboutSection();
          break;
        case 'contato':
          loadContactSection();
          break;
      }
      
      // Atualizar URL sem recarregar p√°gina
      if (history.pushState) {
        history.pushState(null, null, '#' + sectionName);
      }
    }
    
    // Fun√ß√£o para definir link ativo na navega√ß√£o
    function setActiveNavLink(sectionName) {
      // Remover classe ativa de todos os links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      
      // Adicionar classe ativa ao link correspondente
      const activeLink = document.querySelector(`[href="#${sectionName}"]`);
      if (activeLink) {
        activeLink.classList.add('active');
      }
    }
    
    // Fun√ß√µes para carregar conte√∫do das se√ß√µes
    function loadHomeSection() {
      console.log('Carregando se√ß√£o inicial...');
      
      // Carregar produtos em destaque
      if (window.productManager) {
        loadFeaturedProducts();
      }
      
      // Carregar estat√≠sticas
      loadSiteStats();
    }
    
    function loadProductsSection() {
      console.log('Carregando se√ß√£o de produtos...');
      
      if (window.productManager) {
        productManager.renderProducts();
      } else {
        // Fallback caso o productManager n√£o esteja dispon√≠vel
        loadDefaultProducts();
      }
    }
    
    function loadAboutSection() {
      console.log('Carregando se√ß√£o sobre...');
      
      // Atualizar estat√≠sticas da empresa
      updateAboutStats();
    }
    
    function loadContactSection() {
      console.log('Carregando se√ß√£o de contato...');
      
      // Configurar mapa (se necess√°rio)
      // Validar formul√°rio
      setupContactForm();
    }
    
    // Fun√ß√£o para carregar produtos em destaque
    function loadFeaturedProducts() {
      const featuredContainer = document.getElementById('featured-products');
      if (!featuredContainer) return;
      
      // Produtos em destaque (exemplo)
      const featuredProducts = [
        {
          id: 1,
          nome: 'Produto Destaque 1',
          preco: 99.99,
          imagem: 'https://via.placeholder.com/300x200/4CAF50/ffffff?text=Produto+1',
          descricao: 'Produto incr√≠vel com √≥timo custo-benef√≠cio'
        },
        {
          id: 2,
          nome: 'Produto Destaque 2',
          preco: 149.99,
          imagem: 'https://via.placeholder.com/300x200/2196F3/ffffff?text=Produto+2',
          descricao: 'Produto premium com qualidade superior'
        },
        {
          id: 3,
          nome: 'Produto Destaque 3',
          preco: 79.99,
          imagem: 'https://via.placeholder.com/300x200/FF9800/ffffff?text=Produto+3',
          descricao: 'Melhor pre√ßo da categoria'
        }
      ];
      
      featuredContainer.innerHTML = featuredProducts.map(product => `
        <div class="product-card featured-card" data-product-id="${product.id}">
          <div class="product-image">
            <img src="${product.imagem}" alt="${product.nome}">
            <div class="product-overlay">
              <button class="btn-quick-view" onclick="showProductDetails(${product.id})">
                <i class="fas fa-eye"></i> Ver Detalhes
              </button>
            </div>
          </div>
          <div class="product-info">
            <h3>${product.nome}</h3>
            <p class="product-description">${product.descricao}</p>
            <div class="product-price">R$ ${product.preco.toFixed(2)}</div>
            <button class="btn-add-cart" onclick="addProductToCart(${product.id}, '${product.nome}', ${product.preco}, '${product.imagem}')">
              <i class="fas fa-cart-plus"></i> Adicionar ao Carrinho
            </button>
          </div>
        </div>
      `).join('');
    }
    
    // Fun√ß√£o para carregar produtos padr√£o
    function loadDefaultProducts() {
      const productsContainer = document.getElementById('all-products');
      if (!productsContainer) return;
      
      const defaultProducts = [
        {
          id: 1,
          nome: 'Camisa Polo Premium',
          preco: 89.99,
          categoria: 'roupas',
          imagem: 'https://via.placeholder.com/300x300/4CAF50/ffffff?text=Camisa+Polo',
          descricao: 'Camisa polo de alta qualidade, 100% algod√£o'
        },
        {
          id: 2,
          nome: 'Vestido Floral Elegante',
          preco: 149.99,
          categoria: 'roupas',
          imagem: 'https://via.placeholder.com/300x300/E91E63/ffffff?text=Vestido+Floral',
          descricao: 'Vestido floral elegante para ocasi√µes especiais'
        },
        {
          id: 3,
          nome: 'Cal√ßa Jeans Moderna',
          preco: 119.99,
          categoria: 'roupas',
          imagem: 'https://via.placeholder.com/300x300/2196F3/ffffff?text=Cal√ßa+Jeans',
          descricao: 'Cal√ßa jeans com corte moderno e confort√°vel'
        },
        {
          id: 4,
          nome: 'T√™nis Esportivo',
          preco: 199.99,
          categoria: 'calcados',
          imagem: 'https://via.placeholder.com/300x300/FF9800/ffffff?text=T√™nis+Sport',
          descricao: 'T√™nis esportivo para corrida e academia'
        },
        {
          id: 5,
          nome: 'Rel√≥gio Digital',
          preco: 299.99,
          categoria: 'acessorios',
          imagem: 'https://via.placeholder.com/300x300/9C27B0/ffffff?text=Rel√≥gio',
          descricao: 'Rel√≥gio digital com m√∫ltiplas fun√ß√µes'
        },
        {
          id: 6,
          nome: 'Smartphone Pro',
          preco: 899.99,
          categoria: 'eletronicos',
          imagem: 'https://via.placeholder.com/300x300/607D8B/ffffff?text=Smartphone',
          descricao: 'Smartphone com c√¢mera profissional e 5G'
        }
      ];
      
      productsContainer.innerHTML = `
        <div class="products-grid">
          ${defaultProducts.map(product => `
            <div class="product-card" data-product-id="${product.id}" data-category="${product.categoria}">
              <div class="product-image">
                <img src="${product.imagem}" alt="${product.nome}">
                <div class="product-badge">Novo</div>
                <div class="product-overlay">
                  <button class="btn-quick-view" onclick="showProductDetails(${product.id})">
                    <i class="fas fa-eye"></i>
                  </button>
                  <button class="btn-wishlist" onclick="addToWishlist(${product.id})">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
              </div>
              <div class="product-info">
                <div class="product-category">${product.categoria}</div>
                <h3>${product.nome}</h3>
                <p class="product-description">${product.descricao}</p>
                <div class="product-price">R$ ${product.preco.toFixed(2)}</div>
                <div class="product-rating">
                  <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                  </div>
                  <span class="rating-count">(4.5)</span>
                </div>
                <button class="btn-add-cart" onclick="addProductToCart(${product.id}, '${product.nome}', ${product.preco}, '${product.imagem}')">
                  <i class="fas fa-cart-plus"></i> Adicionar ao Carrinho
                </button>
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }
    
    // Fun√ß√£o para carregar estat√≠sticas do site
    function loadSiteStats() {
      const totalProductsElement = document.getElementById('total-products-public');
      const totalCustomersElement = document.getElementById('total-customers');
      
      if (totalProductsElement) {
        // Simular contagem animada
        animateNumber(totalProductsElement, 0, 150, 1000);
      }
      
      if (totalCustomersElement) {
        animateNumber(totalCustomersElement, 0, 1250, 1500);
      }
    }
    
    // Fun√ß√£o para animar n√∫meros
    function animateNumber(element, start, end, duration) {
      const startTime = Date.now();
      const timer = setInterval(() => {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const current = Math.floor(progress * (end - start) + start);
        element.textContent = current.toLocaleString();
        
        if (progress >= 1) {
          clearInterval(timer);
        }
      }, 16);
    }
    
    // Fun√ß√£o para atualizar estat√≠sticas da se√ß√£o sobre
    function updateAboutStats() {
      // Atualizar contadores espec√≠ficos da p√°gina sobre
      console.log('Atualizando estat√≠sticas da empresa...');
    }
    
    // Fun√ß√£o para configurar formul√°rio de contato
    function setupContactForm() {
      const form = document.getElementById('contact-form');
      if (!form) return;
      
      form.addEventListener('submit', handleContactForm);
    }
    
    // Fun√ß√£o para lidar com envio do formul√°rio de contato
    function handleContactForm(e) {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const contactData = {
        nome: formData.get('nome') || e.target.querySelector('input[type="text"]')?.value,
        email: formData.get('email') || e.target.querySelector('input[type="email"]')?.value,
        assunto: formData.get('assunto') || e.target.querySelector('input[placeholder="Assunto"]')?.value,
        mensagem: formData.get('mensagem') || e.target.querySelector('textarea')?.value
      };
      
      // Valida√ß√£o b√°sica
      if (!contactData.nome || !contactData.email || !contactData.mensagem) {
        showNotification('Por favor, preencha todos os campos obrigat√≥rios.', 'error');
        return;
      }
      
      // Valida√ß√£o de email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(contactData.email)) {
        showNotification('Por favor, insira um email v√°lido.', 'error');
        return;
      }
      
      // Simular envio
      showNotification('Enviando mensagem...', 'info');
      
      setTimeout(() => {
        showNotification('Mensagem enviada com sucesso! Entraremos em contato em breve.', 'success');
        e.target.reset();
      }, 2000);
    }
    
    // Fun√ß√£o para mostrar notifica√ß√µes
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.innerHTML = `
        <div class="notification-content">
          <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
          <span>${message}</span>
          <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
            <i class="fas fa-times"></i>
          </button>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.classList.add('show');
      }, 100);
      
      // Remover automaticamente ap√≥s 5 segundos
      setTimeout(() => {
        if (notification.parentNode) {
          notification.classList.remove('show');
          setTimeout(() => {
            if (notification.parentNode) {
              notification.parentNode.removeChild(notification);
            }
          }, 300);
        }
      }, 5000);
    }
    
    // Fun√ß√£o para mostrar se√ß√µes
    function showSection(sectionName) {
      // Ocultar todas as se√ß√µes
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Mostrar se√ß√£o selecionada
      const targetSection = document.getElementById(sectionName);
      if (targetSection) {
        targetSection.classList.add('active');
      }
      
      // Scroll suave para o topo
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
      
      // A√ß√µes espec√≠ficas por se√ß√£o
      switch(sectionName) {
        case 'produtos':
          if (window.productManager) {
            productManager.renderProducts();
          }
          break;
        case 'inicio':
          if (window.productManager) {
            // Carregar produtos em destaque
            productManager.loadFeaturedProducts();
          }
          break;
      }
    }
    
    // Fun√ß√£o para definir link ativo
    function setActiveLink(clickedLink) {
      // Remover classe ativa de todos os links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      
      // Adicionar classe ativa ao link clicado
      clickedLink.classList.add('active');
    }
    
    // Fun√ß√£o para configurar eventos de busca
    function setupSearchEvents() {
      const searchInput = document.getElementById('header-search');
      const searchButton = document.querySelector('.search-btn');
      
      if (searchInput && searchButton) {
        const performSearch = () => {
          const searchTerm = searchInput.value.trim();
          if (searchTerm && window.productManager) {
            productManager.filterProducts({ search: searchTerm });
            showSection('produtos');
            setActiveNavLink('produtos');
          } else if (searchTerm) {
            searchProducts(searchTerm);
          }
        };
        
        searchButton.addEventListener('click', performSearch);
        searchInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            e.preventDefault();
            performSearch();
          }
        });
      }
    }
    
    // Fun√ß√£o para buscar produtos (fallback)
    function searchProducts(searchTerm) {
      const allProducts = document.querySelectorAll('.product-card');
      let found = 0;
      
      allProducts.forEach(card => {
        const productName = card.querySelector('h3')?.textContent.toLowerCase() || '';
        const productDesc = card.querySelector('.product-description')?.textContent.toLowerCase() || '';
        
        if (productName.includes(searchTerm.toLowerCase()) || 
            productDesc.includes(searchTerm.toLowerCase())) {
          card.style.display = 'block';
          found++;
        } else {
          card.style.display = 'none';
        }
      });
      
      if (found === 0) {
        showNotification(`Nenhum produto encontrado para "${searchTerm}"`, 'info');
      } else {
        showNotification(`${found} produto(s) encontrado(s) para "${searchTerm}"`, 'success');
      }
      
      showSection('produtos');
      setActiveNavLink('produtos');
    }
    
    // Fun√ß√µes para produtos
    function addProductToCart(id, nome, preco, imagem) {
      if (window.productManager) {
        const product = { id, nome, preco, imagem, quantity: 1 };
        productManager.addToCart(product);
        showNotification(`${nome} adicionado ao carrinho!`, 'success');
      } else {
        // Fallback simples para carrinho
        addToCartSimple(id, nome, preco, imagem);
      }
    }
    
    // Fun√ß√£o simples para adicionar ao carrinho (fallback)
    function addToCartSimple(id, nome, preco, imagem) {
      let cart = JSON.parse(localStorage.getItem('simpleCart') || '[]');
      
      const existingItem = cart.find(item => item.id === id);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ id, nome, preco, imagem, quantity: 1 });
      }
      
      localStorage.setItem('simpleCart', JSON.stringify(cart));
      updateSimpleCartUI();
      showNotification(`${nome} adicionado ao carrinho!`, 'success');
    }
    
    // Atualizar UI do carrinho simples
    function updateSimpleCartUI() {
      const cart = JSON.parse(localStorage.getItem('simpleCart') || '[]');
      const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      
      const cartCountElement = document.getElementById('cart-count');
      if (cartCountElement) {
        cartCountElement.textContent = cartCount;
      }
    }
    
    // Fun√ß√£o para mostrar detalhes do produto
    function showProductDetails(productId) {
      const modal = document.createElement('div');
      modal.className = 'modal product-modal';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <h2><i class="fas fa-info-circle"></i> Detalhes do Produto</h2>
            <span class="close">&times;</span>
          </div>
          <div class="product-details-content">
            <div class="product-image-large">
              <img src="https://via.placeholder.com/400x300/4CAF50/ffffff?text=Produto+${productId}" alt="Produto ${productId}">
            </div>
            <div class="product-details-info">
              <h3>Produto Premium ${productId}</h3>
              <div class="product-rating">
                <div class="stars">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                </div>
                <span>(4.5) ‚Ä¢ 127 avalia√ß√µes</span>
              </div>
              <div class="product-price-large">R$ ${(99.99 * productId).toFixed(2)}</div>
              <div class="product-description-full">
                <p>Este √© um produto de alta qualidade com caracter√≠sticas excepcionais. 
                Feito com materiais premium e acabamento impec√°vel.</p>
                <ul>
                  <li>‚úì Qualidade premium garantida</li>
                  <li>‚úì Entrega em 24h</li>
                  <li>‚úì Garantia de 1 ano</li>
                  <li>‚úì Suporte t√©cnico incluso</li>
                </ul>
              </div>
              <div class="product-actions">
                <div class="quantity-selector">
                  <label>Quantidade:</label>
                  <div class="qty-controls">
                    <button onclick="changeQuantity(-1)">-</button>
                    <input type="number" value="1" min="1" id="product-quantity">
                    <button onclick="changeQuantity(1)">+</button>
                  </div>
                </div>
                <button class="btn-add-cart-large" onclick="addToCartFromModal(${productId})">
                  <i class="fas fa-cart-plus"></i> Adicionar ao Carrinho
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      modal.style.display = 'block';
      
      setTimeout(() => {
        modal.classList.add('show');
      }, 10);
      
      // Fechar modal
      modal.querySelector('.close').addEventListener('click', () => {
        closeModal(modal);
      });
      
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeModal(modal);
        }
      });
    }
    
    // Fun√ß√£o para alterar quantidade no modal
    function changeQuantity(change) {
      const input = document.getElementById('product-quantity');
      if (input) {
        const newValue = Math.max(1, parseInt(input.value) + change);
        input.value = newValue;
      }
    }
    
    // Fun√ß√£o para adicionar ao carrinho do modal
    function addToCartFromModal(productId) {
      const quantity = parseInt(document.getElementById('product-quantity')?.value || 1);
      const productName = `Produto Premium ${productId}`;
      const productPrice = 99.99 * productId;
      const productImage = `https://via.placeholder.com/400x300/4CAF50/ffffff?text=Produto+${productId}`;
      
      for (let i = 0; i < quantity; i++) {
        addProductToCart(productId, productName, productPrice, productImage);
      }
      
      // Fechar modal
      const modal = document.querySelector('.product-modal');
      if (modal) {
        closeModal(modal);
      }
    }
    
    // Fun√ß√£o para adicionar √† lista de desejos
    function addToWishlist(productId) {
      let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
      
      if (!wishlist.includes(productId)) {
        wishlist.push(productId);
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        showNotification('Produto adicionado √† lista de desejos!', 'success');
        
        // Atualizar √≠cone do cora√ß√£o
        const heartIcon = document.querySelector(`[data-product-id="${productId}"] .btn-wishlist i`);
        if (heartIcon) {
          heartIcon.classList.remove('fas');
          heartIcon.classList.add('fas');
          heartIcon.style.color = '#e74c3c';
        }
      } else {
        showNotification('Produto j√° est√° na lista de desejos!', 'info');
      }
    }
    
    // Fun√ß√£o para filtrar produtos por categoria
    function filterProductsByCategory(category) {
      const products = document.querySelectorAll('.product-card');
      
      products.forEach(card => {
        const productCategory = card.dataset.category;
        if (!category || category === 'all' || productCategory === category) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      
      showSection('produtos');
      setActiveNavLink('produtos');
      
      const categoryName = category ? category.charAt(0).toUpperCase() + category.slice(1) : 'Todos';
      showNotification(`Filtrando por categoria: ${categoryName}`, 'info');
    }
    
    // Fun√ß√£o para aplicar filtros
    function applyFilters() {
      const categoryFilter = document.getElementById('category-filter')?.value;
      const priceFilter = document.getElementById('price-filter')?.value;
      
      filterProductsByCategory(categoryFilter);
      
      if (priceFilter) {
        filterProductsByPrice(priceFilter);
      }
    }
    
    // Fun√ß√£o para filtrar por pre√ßo
    function filterProductsByPrice(priceRange) {
      const products = document.querySelectorAll('.product-card');
      
      products.forEach(card => {
        const priceElement = card.querySelector('.product-price');
        if (!priceElement) return;
        
        const priceText = priceElement.textContent.replace('R$ ', '').replace(',', '');
        const price = parseFloat(priceText);
        
        let shouldShow = true;
        
        switch(priceRange) {
          case '0-50':
            shouldShow = price <= 50;
            break;
          case '50-100':
            shouldShow = price > 50 && price <= 100;
            break;
          case '100-200':
            shouldShow = price > 100 && price <= 200;
            break;
          case '200+':
            shouldShow = price > 200;
            break;
        }
        
        if (card.style.display !== 'none') {
          card.style.display = shouldShow ? 'block' : 'none';
        }
      });
    }
    
    // Fun√ß√£o para fechar modal
    function closeModal(modal) {
      modal.classList.remove('show');
      setTimeout(() => {
        if (modal.parentNode) {
          document.body.removeChild(modal);
        }
      }, 300);
    }
    
    // Modal do carrinho
    function showCartModal() {
      if (!window.productManager) {
        console.error('Product Manager n√£o est√° dispon√≠vel');
        return;
      }
      
      const cart = productManager.getCart();
      
      const modal = document.createElement('div');
      modal.className = 'modal cart-modal';
      modal.innerHTML = `
        <div class="modal-content large">
          <div class="modal-header">
            <h2><i class="fas fa-shopping-cart"></i> Seu Carrinho</h2>
            <span class="close">&times;</span>
          </div>
          <div class="cart-content">
            ${cart.length === 0 ? 
              '<div class="empty-cart"><i class="fas fa-shopping-cart"></i><p>Seu carrinho est√° vazio</p></div>' :
              cart.map(item => `
                <div class="cart-item-modal" data-id="${item.id}">
                  <img src="${item.imagem || 'https://via.placeholder.com/60x60?text=Produto'}" alt="${item.nome}">
                  <div class="item-info">
                    <h4>${item.nome}</h4>
                    <p class="item-price">R$ ${item.preco.toFixed(2)} cada</p>
                  </div>
                  <div class="quantity-controls">
                    <button class="qty-btn minus" onclick="updateCartQuantity('${item.id}', ${item.quantity - 1})">
                      <i class="fas fa-minus"></i>
                    </button>
                    <span class="quantity">${item.quantity}</span>
                    <button class="qty-btn plus" onclick="updateCartQuantity('${item.id}', ${item.quantity + 1})">
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>
                  <div class="item-total">R$ ${(item.preco * item.quantity).toFixed(2)}</div>
                  <button class="btn-remove" onclick="removeFromCart('${item.id}')" title="Remover item">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              `).join('')
            }
          </div>
          ${cart.length > 0 ? `
            <div class="cart-footer">
              <div class="cart-summary">
                <div class="cart-total">
                  <strong>Total: R$ ${cart.reduce((sum, item) => sum + (item.preco * item.quantity), 0).toFixed(2)}</strong>
                </div>
                <div class="cart-items-count">${cart.reduce((sum, item) => sum + item.quantity, 0)} item(s)</div>
              </div>
              <div class="cart-actions">
                <button class="btn-secondary" onclick="clearCart()">
                  <i class="fas fa-trash"></i> Limpar Carrinho
                </button>
                <button class="btn-primary" onclick="proceedToCheckout()">
                  <i class="fas fa-credit-card"></i> Finalizar Compra
                </button>
              </div>
            </div>
          ` : `
            <div class="cart-footer">
              <button class="btn-primary" onclick="showSection('produtos'); closeCartModal()">
                <i class="fas fa-shopping-bag"></i> Ver Produtos
              </button>
            </div>
          `}
        </div>
      `;
      
      document.body.appendChild(modal);
      modal.style.display = 'block';
      
      // Adicionar anima√ß√£o de entrada
      setTimeout(() => {
        modal.classList.add('show');
      }, 10);
      
      // Fechar modal
      modal.querySelector('.close').addEventListener('click', () => {
        closeCartModal();
      });
      
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeCartModal();
        }
      });
      
      // Fun√ß√£o para fechar modal
      window.closeCartModal = function() {
        modal.classList.remove('show');
        setTimeout(() => {
          if (modal.parentNode) {
            document.body.removeChild(modal);
          }
        }, 300);
      };
    }
    
    // Fun√ß√µes globais para o carrinho
    window.updateCartQuantity = function(productId, newQuantity) {
      if (newQuantity <= 0) {
        removeFromCart(productId);
        return;
      }
      
      if (window.productManager) {
        const cartItem = productManager.cart.find(item => item.id === productId);
        if (cartItem) {
          cartItem.quantity = newQuantity;
          productManager.saveCart();
          productManager.updateCartUI();
          
          // Atualizar display do modal
          const cartItemElement = document.querySelector(`[data-id="${productId}"]`);
          if (cartItemElement) {
            cartItemElement.querySelector('.quantity').textContent = newQuantity;
            cartItemElement.querySelector('.item-total').textContent = 
              `R$ ${(cartItem.preco * newQuantity).toFixed(2)}`;
            
            // Atualizar total
            updateCartTotals();
          }
        }
      }
    };
    
    window.removeFromCart = function(productId) {
      if (window.productManager) {
        productManager.cart = productManager.cart.filter(item => item.id !== productId);
        productManager.saveCart();
        productManager.updateCartUI();
        
        // Reabrir modal atualizado
        closeCartModal();
        setTimeout(() => showCartModal(), 100);
      }
    };
    
    window.clearCart = function() {
      if (window.productManager) {
        productManager.clearCart();
        if (window.authManager) {
          authManager.showSuccess('Carrinho limpo com sucesso!');
        }
        closeCartModal();
      }
    };
    
    window.proceedToCheckout = function() {
      if (!window.authManager || !authManager.isAuthenticated) {
        if (window.authManager) {
          authManager.showError('Fa√ßa login para finalizar a compra');
        }
        setTimeout(() => {
          window.location.href = 'login.html';
        }, 2000);
        return;
      }
      
      // Redirecionar para √°rea do cliente
      window.location.href = 'client.html#checkout';
    };
    
    function updateCartTotals() {
      if (!window.productManager) return;
      
      const cart = productManager.getCart();
      const total = cart.reduce((sum, item) => sum + (item.preco * item.quantity), 0);
      const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      
      const totalElement = document.querySelector('.cart-total strong');
      const countElement = document.querySelector('.cart-items-count');
      
      if (totalElement) {
        totalElement.textContent = `Total: R$ ${total.toFixed(2)}`;
      }
      
      if (countElement) {
        countElement.textContent = `${itemCount} item(s)`;
      }
    }
    
    // Fun√ß√µes globais compat√≠veis com o HTML existente
    window.showSection = showSection;
    window.setActiveLink = setActiveNavLink;
    window.showCartModal = showCartModal;
    window.addProductToCart = addProductToCart;
    window.showProductDetails = showProductDetails;
    window.addToWishlist = addToWishlist;
    window.filterProductsByCategory = filterProductsByCategory;
    window.applyFilters = applyFilters;
    window.changeQuantity = changeQuantity;
    window.addToCartFromModal = addToCartFromModal;
    window.showNotification = showNotification;
    
    // Inicializar carrinho simples se necess√°rio
    document.addEventListener('DOMContentLoaded', function() {
      updateSimpleCartUI();
    });
    
    // Configurar navega√ß√£o por URL
    window.addEventListener('popstate', function(e) {
      const hash = window.location.hash.substring(1);
      if (hash) {
        showSection(hash);
        setActiveNavLink(hash);
      }
    });
    
    // Verificar URL inicial
    window.addEventListener('load', function() {
      const hash = window.location.hash.substring(1);
      if (hash) {
        showSection(hash);
        setActiveNavLink(hash);
      }
    });
  </script>
  
  <!-- CSS adicional para as novas funcionalidades -->
  <style>
    /* Estilos para produtos */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      padding: 2rem 0;
    }
    
    .product-card {
      background: #fff;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      position: relative;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    
    .product-image {
      position: relative;
      overflow: hidden;
      height: 200px;
    }
    
    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    
    .product-card:hover .product-image img {
      transform: scale(1.1);
    }
    
    .product-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #e74c3c;
      color: #fff;
      padding: 0.3rem 0.6rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    
    .product-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .product-card:hover .product-overlay {
      opacity: 1;
    }
    
    .btn-quick-view, .btn-wishlist {
      background: #fff;
      color: #333;
      border: none;
      padding: 0.8rem;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .btn-quick-view:hover {
      background: #3498db;
      color: #fff;
    }
    
    .btn-wishlist:hover {
      background: #e74c3c;
      color: #fff;
    }
    
    .product-info {
      padding: 1.5rem;
    }
    
    .product-category {
      color: #666;
      font-size: 0.8rem;
      text-transform: uppercase;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    
    .product-info h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.2rem;
      color: #333;
    }
    
    .product-description {
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 1rem;
      line-height: 1.4;
    }
    
    .product-price {
      font-size: 1.3rem;
      font-weight: 700;
      color: #28a745;
      margin-bottom: 1rem;
    }
    
    .product-rating {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .stars {
      color: #ffc107;
    }
    
    .rating-count {
      color: #666;
      font-size: 0.9rem;
    }
    
    .btn-add-cart {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: #fff;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .btn-add-cart:hover {
      background: linear-gradient(135deg, #218838, #1ea080);
      transform: translateY(-2px);
    }
    
    /* Estilos para modal de produto */
    .product-modal .modal-content {
      max-width: 800px;
      width: 90%;
    }
    
    .product-details-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      padding: 2rem;
    }
    
    .product-image-large img {
      width: 100%;
      border-radius: 10px;
    }
    
    .product-price-large {
      font-size: 2rem;
      font-weight: 700;
      color: #28a745;
      margin: 1rem 0;
    }
    
    .product-description-full ul {
      list-style: none;
      padding: 0;
      margin: 1rem 0;
    }
    
    .product-description-full li {
      padding: 0.3rem 0;
      color: #666;
    }
    
    .quantity-selector {
      margin: 1rem 0;
    }
    
    .qty-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    
    .qty-controls button {
      background: #f8f9fa;
      border: 1px solid #ddd;
      width: 40px;
      height: 40px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
    }
    
    .qty-controls input {
      width: 60px;
      text-align: center;
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 0.5rem;
    }
    
    .btn-add-cart-large {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: #fff;
      border: none;
      padding: 1rem 2rem;
      border-radius: 25px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      font-size: 1.1rem;
    }
    
    /* Estilos para notifica√ß√µes */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #fff;
      padding: 1rem 1.5rem;
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      z-index: 10001;
      transform: translateX(400px);
      transition: transform 0.3s ease;
      min-width: 300px;
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    .notification.success {
      border-left: 4px solid #28a745;
    }
    
    .notification.error {
      border-left: 4px solid #dc3545;
    }
    
    .notification.info {
      border-left: 4px solid #17a2b8;
    }
    
    .notification-content {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .notification-content i {
      font-size: 1.2rem;
    }
    
    .notification.success i {
      color: #28a745;
    }
    
    .notification.error i {
      color: #dc3545;
    }
    
    .notification.info i {
      color: #17a2b8;
    }
    
    .notification-close {
      background: none;
      border: none;
      font-size: 1rem;
      cursor: pointer;
      color: #666;
      margin-left: auto;
    }
    
    /* Responsividade */
    @media (max-width: 768px) {
      .products-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        padding: 1rem 0;
      }
      
      .product-details-content {
        grid-template-columns: 1fr;
        gap: 1rem;
        padding: 1rem;
      }
      
      .notification {
        right: 10px;
        left: 10px;
        min-width: auto;
      }
    }
  </style>    // Fun√ß√£o para mostrar se√ß√µes
    function showSection(sectionName) {
      // Ocultar todas as se√ß√µes
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Mapear nomes de se√ß√£o
      const sectionMap = {
        'inicio': 'home',
        'produtos': 'featured-section',
        'sobre': 'about',
        'contato': 'contact'
      };
      
      const targetSectionId = sectionMap[sectionName] || sectionName;
      const targetSection = document.getElementById(targetSectionId) || document.querySelector(`.${targetSectionId}`);
      
      if (targetSection) {
        targetSection.classList.add('active');
      }
      
      // A√ß√µes espec√≠ficas por se√ß√£o
      switch(sectionName) {
        case 'produtos':
          productManager.renderProducts();
          break;
        case 'inicio':
          // Mostrar produtos em destaque
          productManager.filterProducts({ category: '' });
          break;
      }
    }
    
    // Modal do carrinho
    function showCartModal() {
      const cart = productManager.getCart();
      
      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.innerHTML = `
        <div class="modal-content large">
          <span class="close">&times;</span>
          <h2><i class="fas fa-shopping-cart"></i> Seu Carrinho</h2>
          <div class="cart-content">
            ${cart.length === 0 ? 
              '<div class="empty-cart">Seu carrinho est√° vazio</div>' :
              cart.map(item => {
                const decreaseQty = item.quantity > 1 ? item.quantity - 1 : 1;
                const increaseQty = item.quantity + 1;
                return `
                <div class="cart-item-modal">
                  <img src="${item.imagem || 'https://via.placeholder.com/60x60?text=Produto'}" alt="${item.nome}">
                  <div class="item-info">
                    <h4>${item.nome}</h4>
                    <p>R$ ${item.preco.toFixed(2)} cada</p>
                  </div>
                  <div class="quantity-controls">
                    <button onclick="updateCartQuantity(&#39;${item.id}&#39;, ${decreaseQty})">-</button>
                    <span>${item.quantity}</span>
                    <button onclick="updateCartQuantity(&#39;${item.id}&#39;, ${increaseQty})">+</button>
                  </div>
                  <div class="item-total">R$ ${(item.preco * item.quantity).toFixed(2)}</div>
                  <button class="btn-remove" onclick="removeFromCart('${item.id}')">&times;</button>
                </div>
              `;
              }).join('')
            }
          </div>
          ${cart.length > 0 ? `
            <div class="cart-footer">
              <div class="cart-total">
                <strong>Total: R$ ${cart.reduce((sum, item) => sum + (item.preco * item.quantity), 0).toFixed(2)}</strong>
              </div>
              <div class="cart-actions">
                <button class="btn-secondary" onclick="productManager.clearCart(); closeCartModal();">
                  <i class="fas fa-trash"></i> Limpar Carrinho
                </button>
                <button class="btn-primary" onclick="proceedToCheckout()">
                  <i class="fas fa-credit-card"></i> Finalizar Compra
                </button>
              </div>
            </div>
          ` : ''}
        </div>
      `;
      
      document.body.appendChild(modal);
      modal.style.display = 'block';
      
      // Fechar modal
      modal.querySelector('.close').addEventListener('click', () => {
        document.body.removeChild(modal);
      });
      
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          document.body.removeChild(modal);
        }
      });
      
      // Definir fun√ß√µes globais para o modal
      window.updateCartQuantity = function(productId, newQuantity) {
        if (newQuantity <= 0) {
          removeFromCart(productId);
          return;
        }
        
        const cartItem = productManager.cart.find(item => item.id === productId);
        if (cartItem) {
          cartItem.quantity = newQuantity;
          productManager.saveCart();
          productManager.updateCartUI();
          
          // Reabrir modal atualizado
          document.body.removeChild(modal);
          showCartModal();
        }
      };
      
      window.removeFromCart = function(productId) {
        productManager.cart = productManager.cart.filter(item => item.id !== productId);
        productManager.saveCart();
        productManager.updateCartUI();
        
        // Reabrir modal atualizado
        document.body.removeChild(modal);
        showCartModal();
      };
      
      window.closeCartModal = function() {
        document.body.removeChild(modal);
      };
      
      window.proceedToCheckout = function() {
        if (!authManager.isAuthenticated) {
          authManager.showError('Fa√ßa login para finalizar a compra');
          setTimeout(() => {
            window.location.href = 'login.html';
          }, 2000);
          return;
        }
        
        // Redirecionar para √°rea do cliente
        window.location.href = 'client.html#checkout';
      };
    }
    
    // Fun√ß√µes globais compat√≠veis com o HTML existente
    window.showSection = showSection;
    window.showCartModal = showCartModal;
    window.showAllCategories = function(event) {
      event.preventDefault();
      productManager.filterProducts({ category: '' });
      showSection('produtos');
    };
    window.filterByCategory = function(category, event) {
      event.preventDefault();
      productManager.filterProducts({ category: category });
      showSection('produtos');
    };
    window.searchProducts = function() {
      const searchInput = document.getElementById('header-search');
      const searchTerm = searchInput.value.trim();
      if (searchTerm) {
        productManager.filterProducts({ search: searchTerm });
        showSection('produtos');
      }
    };
    window.goToLogin = function() {
      window.location.href = 'login.html';
    };
    window.clearCart = function() {
      productManager.clearCart();
      authManager.showSuccess('Carrinho limpo com sucesso!');
    };
  </script>
</body>
</html>